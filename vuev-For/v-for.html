<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="common.css">
    <script src="https://cdn.staticfile.org/vue/2.4.2/vue.min.js"></script>
</head>

<body>
    <div id="app">
        <p>お名前</p>
        <input type="text" placeholder="お名前を入力してください" v-model="nextText"><button @click="push">追加</button><button
            @click="deleteData">删除</button>
        <ul v-for="item in list" :key="item.id">
            <li>
                <input type="checkbox" v-model="item.isCheck">
                {{item.name}}
            </li>
        </ul>
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                list: [
                    { id: 1, name: "田中", isCheck: false },
                    { id: 2, name: "渡辺", isCheck: false },
                    { id: 3, name: "木村", isCheck: false },
                ],
                nextText: null,
                nextId: 4,
            },
            methods: {
                push: function () {
                    if (this.nextText == null) {
                        return alert("名前を入力してください");
                    }
                    this.list.unshift({
                        id: this.nextId++,
                        name: this.nextText,
                        isCheck: false
                    });
                    this.nextText = null;
                },
                deleteData: function () {
                    for(var i = this.list.length - 1; i >= 0;i--){
                        if(this.list[i].isCheck){
                            this.list.splice(i,1);
                        }
                    }
                    console.log(this.list);
                }
            }
        })
    </script>
</body>

</html>